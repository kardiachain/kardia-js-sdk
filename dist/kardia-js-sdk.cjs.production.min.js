"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("@open-rpc/client-js"),e=require("ethereumjs-util"),n=t(require("ethereumjs-wallet")),i=require("ethers"),a=t(require("elliptic")),o=require("js-sha3"),u=t(require("bn.js")),s=t(require("utf8")),c=t(require("number-to-bn")),f=require("lodash"),p=t(require("ethereumjs-abi"));function l(t,r,e,n,i,a,o){try{var u=t[a](o),s=u.value}catch(t){return void e(t)}u.done?r(s):Promise.resolve(s).then(n,i)}function h(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var a=t.apply(r,e);function o(t){l(a,n,i,o,u,"next",t)}function u(t){l(a,n,i,o,u,"throw",t)}o(void 0)}))}}function d(){return(d=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}var v,g=(function(t){var r=function(t){var r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(t){u=function(t,r,e){return t[r]=e}}function s(t,r,e,n){var i=Object.create((r&&r.prototype instanceof p?r:p).prototype),a=new _(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(e.method=i,e.arg=a;;){var o=e.delegate;if(o){var u=y(o,e);if(u){if(u===f)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var s=c(t,r,e);if("normal"===s.type){if(n=e.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(n="completed",e.method="throw",e.arg=s.arg)}}}(t,e,a),i}function c(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function l(){}function h(){}var d={};d[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==r&&e.call(g,i)&&(d=g);var m=h.prototype=p.prototype=Object.create(d);function x(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){var n;this._invoke=function(i,a){function o(){return new r((function(n,o){!function n(i,a,o,u){var s=c(t[i],t,a);if("throw"!==s.type){var f=s.arg,p=f.value;return p&&"object"==typeof p&&e.call(p,"__await")?r.resolve(p.__await).then((function(t){n("next",t,o,u)}),(function(t){n("throw",t,o,u)})):r.resolve(p).then((function(t){f.value=t,o(f)}),(function(t){return n("throw",t,o,u)}))}u(s.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function y(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,y(t,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;var i=n.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function b(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return l.prototype=m.constructor=h,h.constructor=l,l.displayName=u(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(w.prototype),w.prototype[a]=function(){return this},t.AsyncIterator=w,t.async=function(r,e,n,i,a){void 0===a&&(a=Promise);var o=new w(s(r,e,n,i),a);return t.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(m),u(m,o,"Generator"),m[i]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return o.type="throw",o.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=e.call(a,"catchLoc"),s=e.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),f},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),f}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var i=n.arg;k(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:C(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}(v={exports:{}}),v.exports),m="0123456789abcdef".split(""),x=[1,256,65536,16777216],w=[0,8,16,24],y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=function(t){var r,e,n,i,a,o,u,s,c,f,p,l,h,d,v,g,m,x,w,b,k,_,C,E,B,S,L,P,T,q,I,A,j,O,N,F,W,G,H,K,$,R,D,M,U,X,J,V,Y,z,Q,Z,tt,rt,et,nt,it,at,ot,ut,st,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],a=t[1]^t[11]^t[21]^t[31]^t[41],s=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],p=t[7]^t[17]^t[27]^t[37]^t[47],e=(h=t[9]^t[19]^t[29]^t[39]^t[49])^((u=t[3]^t[13]^t[23]^t[33]^t[43])<<1|(o=t[2]^t[12]^t[22]^t[32]^t[42])>>>31),t[0]^=r=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|u>>>31),t[1]^=e,t[10]^=r,t[11]^=e,t[20]^=r,t[21]^=e,t[30]^=r,t[31]^=e,t[40]^=r,t[41]^=e,e=a^(c<<1|s>>>31),t[2]^=r=i^(s<<1|c>>>31),t[3]^=e,t[12]^=r,t[13]^=e,t[22]^=r,t[23]^=e,t[32]^=r,t[33]^=e,t[42]^=r,t[43]^=e,e=u^(p<<1|f>>>31),t[4]^=r=o^(f<<1|p>>>31),t[5]^=e,t[14]^=r,t[15]^=e,t[24]^=r,t[25]^=e,t[34]^=r,t[35]^=e,t[44]^=r,t[45]^=e,e=c^(h<<1|l>>>31),t[6]^=r=s^(l<<1|h>>>31),t[7]^=e,t[16]^=r,t[17]^=e,t[26]^=r,t[27]^=e,t[36]^=r,t[37]^=e,t[46]^=r,t[47]^=e,e=p^(a<<1|i>>>31),t[8]^=r=f^(i<<1|a>>>31),t[9]^=e,t[18]^=r,t[19]^=e,t[28]^=r,t[29]^=e,t[38]^=r,t[39]^=e,t[48]^=r,t[49]^=e,v=t[1],X=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,P=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,ut=t[31]<<9|t[30]>>>23,st=t[30]<<9|t[31]>>>23,R=t[40]<<18|t[41]>>>14,D=t[41]<<18|t[40]>>>14,O=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,m=t[12]<<12|t[13]>>>20,V=t[22]<<10|t[23]>>>22,Y=t[23]<<10|t[22]>>>22,q=t[33]<<13|t[32]>>>19,I=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,rt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,F=t[14]<<6|t[15]>>>26,W=t[15]<<6|t[14]>>>26,w=t[24]<<11|t[25]>>>21,z=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,A=t[45]<<29|t[44]>>>3,j=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,B=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,G=t[26]<<25|t[27]>>>7,H=t[27]<<25|t[26]>>>7,b=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Z=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,M=t[8]<<27|t[9]>>>5,U=t[9]<<27|t[8]>>>5,S=t[18]<<20|t[19]>>>12,L=t[19]<<20|t[18]>>>12,at=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,K=t[38]<<8|t[39]>>>24,$=t[39]<<8|t[38]>>>24,_=t[48]<<14|t[49]>>>18,C=t[49]<<14|t[48]>>>18,t[0]=(d=t[0])^~(g=t[13]<<12|t[12]>>>20)&(x=t[25]<<11|t[24]>>>21),t[1]=v^~m&w,t[10]=E^~S&P,t[11]=B^~L&T,t[20]=O^~F&G,t[21]=N^~W&H,t[30]=M^~X&V,t[31]=U^~J&Y,t[40]=rt^~nt&at,t[41]=et^~it&ot,t[2]=g^~x&b,t[3]=m^~w&k,t[12]=S^~P&q,t[13]=L^~T&I,t[22]=F^~G&K,t[23]=W^~H&$,t[32]=X^~V&z,t[33]=J^~Y&Q,t[42]=nt^~at&ut,t[43]=it^~ot&st,t[4]=x^~b&_,t[5]=w^~k&C,t[14]=P^~q&A,t[15]=T^~I&j,t[24]=G^~K&R,t[25]=H^~$&D,t[34]=V^~z&Z,t[35]=Y^~Q&tt,t[44]=at^~ut&ct,t[45]=ot^~st&ft,t[6]=b^~_&d,t[7]=k^~C&v,t[16]=q^~A&E,t[17]=I^~j&B,t[26]=K^~R&O,t[27]=$^~D&N,t[36]=z^~Z&M,t[37]=Q^~tt&U,t[46]=ut^~ct&rt,t[47]=st^~ft&et,t[8]=_^~d&g,t[9]=C^~v&m,t[18]=A^~E&S,t[19]=j^~B&L,t[28]=R^~O&F,t[29]=D^~N&W,t[38]=Z^~M&X,t[39]=tt^~U&J,t[48]=ct^~rt&nt,t[49]=ft^~et&it,t[0]^=y[n],t[1]^=y[n+1]},k=function(t){return function(r){var e;if("0x"===r.slice(0,2)){e=[];for(var n=2,i=r.length;n<i;n+=2)e.push(parseInt(r.slice(n,n+2),16))}else e=r;return function(t,r){for(var e,n,i=r.length,a=t.blocks,o=t.blockCount<<2,u=t.blockCount,s=t.outputBlocks,c=t.s,f=0;f<i;){if(t.reset)for(t.reset=!1,a[0]=t.block,e=1;e<u+1;++e)a[e]=0;if("string"!=typeof r)for(e=t.start;f<i&&e<o;++f)a[e>>2]|=r[f]<<w[3&e++];else for(e=t.start;f<i&&e<o;++f)(n=r.charCodeAt(f))<128?a[e>>2]|=n<<w[3&e++]:n<2048?(a[e>>2]|=(192|n>>6)<<w[3&e++],a[e>>2]|=(128|63&n)<<w[3&e++]):n<55296||n>=57344?(a[e>>2]|=(224|n>>12)<<w[3&e++],a[e>>2]|=(128|n>>6&63)<<w[3&e++],a[e>>2]|=(128|63&n)<<w[3&e++]):(n=65536+((1023&n)<<10|1023&r.charCodeAt(++f)),a[e>>2]|=(240|n>>18)<<w[3&e++],a[e>>2]|=(128|n>>12&63)<<w[3&e++],a[e>>2]|=(128|n>>6&63)<<w[3&e++],a[e>>2]|=(128|63&n)<<w[3&e++]);if(t.lastByteIndex=e,e>=o){for(t.start=e-o,t.block=a[u],e=0;e<u;++e)c[e]^=a[e];b(c),t.reset=!0}else t.start=e}if(a[(e=t.lastByteIndex)>>2]|=x[3&e],t.lastByteIndex===o)for(a[0]=a[u],e=1;e<u+1;++e)a[e]=0;for(a[u-1]|=2147483648,e=0;e<u;++e)c[e]^=a[e];b(c);var p,l="",h=0;for(e=0;h<s;){for(e=0;e<u&&h<s;++e,++h)l+=m[(p=c[e])>>4&15]+m[15&p]+m[p>>12&15]+m[p>>8&15]+m[p>>20&15]+m[p>>16&15]+m[p>>28&15]+m[p>>24&15];h%u==0&&(b(c),e=0)}return"0x"+l}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(r=[0,0,0,0,0,0,0,0,0,0],[].concat(r,r,r,r,r))};var r}(t),e)}},_=k(256),C=k(256),E=require("bn.js"),B=function(t){return"string"==typeof t?/^0x/.test(t)?t:"0x"+t:"0x"+new E(t).toString("hex")},S=function(t){return"0x0"===t?"0x":t.length%2==0?t:"0x0"+t.slice(2)},L=function(t){return(t.length-2)/2},P=function(t,r){return t.concat(r.slice(2))},T=function(t){return"0x"+t.reduce((function(t,r){return t+r.slice(2)}),"")},q=function(t,r,e){return"0x"+e.slice(2*t+2,2*r+2)},I=function t(r,e){return e.length===2*r+2?e:t(r,"0x0"+e.slice(2))},A=S,j=function(t){return(f.isString(t)||f.isNumber(t))&&/^(-)?0x[0-9a-f]*$/i.test(t)},O=function(t){return"string"==typeof t&&"0x"===t.slice(0,2)},N=function(t){return O(t)?t.slice(2):t},F=function(t){if("string"!=typeof t)throw new Error("while padding to even, value must be string, is currently ["+typeof t+"], while padToEven.");return t.length%2?"0"+t:t},W=function(t){return t instanceof u||t&&t.constructor&&"BN"===t.constructor.name},G=function(t){if(null==t)return t;if(!isFinite(t)&&!j(t))throw new Error('Given input "'+t+'" is not a number.');var r=function(t){try{return c(t)}catch(r){throw new Error(r+' Given value: "'+t+'"')}}(t),e=r.toString(16);return r.lt(new u(0))?"-0x"+e.substr(1):"0x"+e},H=function(t,r){if(void 0===r&&(r=!1),$(t))return r?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(f.isBoolean(t))return r?"bool":t?"0x01":"0x00";if(f.isObject(t)&&(!(e=t)||!(e instanceof u||e.constructor&&"BigNumber"===e.constructor.name))&&!W(t))return r?"string":function(t){var r="";t=(t=(t=(t=(t=s.encode(t)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var e=0;e<t.length;e++){var n=t.charCodeAt(e).toString(16);r+=n.length<2?"0"+n:n}return"0x"+r}(JSON.stringify(t));var e;if(f.isString(t)){if(0===t.indexOf("-0x")||0===t.indexOf("-0X"))return r?"int256":G(t);if(0===t.indexOf("0x")||0===t.indexOf("0X"))return r?"bytes":t}return r?t<0?"int256":"uint256":G(t)},K=new a.ec("secp256k1"),$=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||function(t){try{var r=function(t){W(t)&&(t=t.toString()),j(t)&&/^0x/i.test(t.toString())&&(t=function(t){if(t=t.toString(16),!j(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var r=[],e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return r}(t));var r=o.keccak256(t);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r?null:r}((t=t.replace(/^0x/i,"")).toLowerCase());if(null===r)return!1;for(var e=r.replace(/^0x/i,""),n=0;n<40;n++)if(parseInt(e[n],16)>7&&t[n].toUpperCase()!==t[n]||parseInt(e[n],16)<=7&&t[n].toLowerCase()!==t[n])return!1;return!0}catch(t){return!1}}(t))},R=function(t){var r=Buffer.from(t.slice(2),"hex"),e="0x"+K.keyFromPrivate(r).getPublic(!1,"hex").slice(2);return{address:function(t){if(void 0===t)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Kardiachain address.');t=t.toLowerCase().replace(/^0x/i,"");for(var r=_(t).replace(/^0x/i,""),e="0x",n=0;n<t.length;n++)e+=parseInt(r[n],16)>7?t[n].toUpperCase():t[n];return e}("0x"+_(e).slice(-40)),privateKey:t}},D=function(t){for(;t&&t.startsWith("0x0");)t="0x"+t.slice(3);return t},M=function(t){return t.length%2==1&&(t=t.replace("0x","0x0")),t},U=function(t){return function(t,r){var e,n,i,a,o,u=K.keyFromPrivate(Buffer.from(r.slice(2),"hex")).sign(Buffer.from(t.slice(2),"hex"),{canonical:!0}),s=0;return u&&(s=u.recoveryParam),e=[(a=27+s,o=a.toString(16),n=o.length%2==0?"0x"+o:"0x0"+o,i="0x"+("0x"===n.slice(0,2)?new E(n.slice(2),16):new E(n,10)).toString("hex"),"0x0"===i?"0x":i),I(32,A("0x"+u.r.toString(16))),I(32,A("0x"+u.s.toString(16)))],T([e[1],e[2],e[0]])}}(),X=function(){function t(t){this._rpcClient=t.client}var r=t.prototype;return r.getBalance=function(){var t=h(g.mark((function t(r,e){var n;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=[r]).push(e&&e.blockHash?e.blockHash:e&&e.blockHeight?e.blockHeight:"latest"),t.next=4,this._rpcClient.request({method:"account_balance",params:n});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),r.getNonce=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"account_nonce",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),t.getWalletFromPK=function(t){var r=e.toBuffer(t);return{address:n.fromPrivateKey(r).getChecksumAddressString(),privateKey:t,balance:0}},t.getWalletFromMnemonic=function(){var t=h(g.mark((function t(r){var e;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.ethers.Wallet.fromMnemonic(r.trim()),t.abrupt("return",{address:e.address,privateKey:e.privateKey,balance:0});case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),t.isAddress=function(t){return $(t)},t.generateWallet=function(){var t=i.ethers.Wallet.createRandom();return{address:t.address,privateKey:t.privateKey,balance:0}},t}(),J=new u(0),V=new u(-1),Y={hydro:"1",oxy:"1000000000",kai:"1000000000000000000"},z=function(t){var r=t?t.toLowerCase():"kai",e=Y[r];if("string"!=typeof e)throw new Error("The unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(Y,null,2));return new u(e,10)},Q=function(){function t(t){this._rpcClient=t.client}var r=t.prototype;return r.getBlockNumber=function(){var t=h(g.mark((function t(){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_blockNumber",params:[]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.isValidator=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._rpcClient.request({method:"kai_validator",params:[r,!1]});case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(r){return t.apply(this,arguments)}}(),r.getValidators=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.next=3,this._rpcClient.request({method:"kai_validators",params:[r]});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getBlockByBlockNumber=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r<0)){t.next=2;break}throw new Error("Invalid block number");case 2:return t.next=4,this._rpcClient.request({method:"kai_getBlockByNumber",params:[r]});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getBlockByHash=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_getBlockByHash",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getBlockHeaderByBlockNumber=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r<0)){t.next=2;break}throw new Error("Invalid block number");case 2:return t.next=4,this._rpcClient.request({method:"kai_getBlockHeaderByNumber",params:[r]});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getBlockHeaderByHash=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_getBlockHeaderByHash",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.newFilter=function(){var t=h(g.mark((function t(r,e,n,i){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_newFilter",params:[{fromBlock:r,toBlock:e,address:n,topics:i}]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r,e,n,i){return t.apply(this,arguments)}}(),r.newBlockFilter=function(){var t=h(g.mark((function t(){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_newBlockFilter",params:[]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.uninstallFilter=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_uninstallFilter",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getFilterChanges=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_getFilterChanges",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getFilterLogs=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_getFilterLogs",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),r.getLogs=function(){var t=h(g.mark((function t(r,e,n,i,a){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"kai_getLogs",params:[{fromBlock:r,toBlock:e,address:n,topics:i,blockhash:a}]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r,e,n,i,a){return t.apply(this,arguments)}}(),t.KAIFromHydro=function(t){return function(t,r){try{var e=c(t),n=e.lt(J),i=z("kai"),a=Y.kai.length-1||1;n&&(e=e.mul(V));for(var o=e.mod(i).toString(10);o.length<a;)o="0"+o;var u=e.div(i).toString(10)+("0"===o?"":"."+o);return n&&(u="-"+u),function(t){var r=t.toString().replace(/^[0]+/,"");return r.indexOf(".")>-1&&(r=r.replace(/[0]+$/,"")),0===(r=r.replace(/[.]$/,"")).indexOf(".")&&(r="0"+r),r||0}(u)}catch(r){throw new Error("While converting number "+t+" to kai, "+r.message)}}(t)},t.HydroFromKAI=function(t){return function(t,r){try{var e=function(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}(t),n=z("kai"),i=Y.kai.length-1||1,a="-"===e.substring(0,1);if(a&&(e=e.substring(1)),"."===e)throw new Error("While converting number "+t+" to hydro, invalid value");var o=e.split(".");if(o.length>2)throw new Error("While converting number "+t+" to hydro,  too many decimal points");var s=o[0],c=o[1];if(s||(s="0"),c||(c="0"),c.length>i)throw new Error("While converting number "+t+" to hydro, too many decimal places");for(;c.length<i;)c+="0";s=new u(s),c=new u(c);var f=s.mul(n).add(c);return a&&(f=f.mul(V)),f.toString(10)}catch(r){throw new Error("While converting number "+t+" to hydro, "+r.message)}}(t)},t}(),Z=function(t){var r=function(t){return(r=t.toString(16)).length%2==0?r:"0"+r;var r},e=function(t,e){return t<56?r(e+t):r(e+r(t).length/2+55)+r(t)};return"0x"+function t(r){if("string"==typeof r){var n=r.slice(2);return(2!==n.length||n>="80"?e(n.length/2,128):"")+n}var i=r.map(t).join("");return e(i.length/2,192)+i}(t)},tt=function(t){var r=2,e=function(){if(r>=t.length)throw new Error("");var e=t.slice(r,r+2);return e<"80"?(r+=2,"0x"+e):e<"c0"?i():a()},n=function(){var e=parseInt(t.slice(r,r+=2),16)%64;return e<56?e:parseInt(t.slice(r,r+=2*(e-55)),16)},i=function(){var e=n();return"0x"+t.slice(r,r+=2*e)},a=function(){for(var t=2*n()+r,i=[];r<t;)i.push(e());return i};try{return e()}catch(t){return[]}},rt=function(t){return new Promise((function(r){return setTimeout(r,t)}))},et=function(){function t(t){var e=t.client,n=t.provider;if(e)this._rpcClient=e;else{if(!n)throw new Error("Either [client] or [provider] must be provided");var i=new r.HTTPTransport(n);this._rpcClient=new r.Client(new r.RequestManager([i]))}}var e=t.prototype;return e.getTransaction=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"tx_getTransaction",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e.getPendingTransaction=function(){var t=h(g.mark((function t(){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"tx_pendingTransactions",params:[]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getTransactionReceipt=function(){var t=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcClient.request({method:"tx_getTransactionReceipt",params:[r]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e.signTransaction=function(){var t=h(g.mark((function t(r,e){var n,i,a,o,u,s,c,f,p,l;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="0x"+e.replace("0x",""),r.gas){t.next=3;break}throw new Error('"gas" is missing');case 3:if(!(r.nonce<0||r.gas<0||r.gasPrice<0)){t.next=5;break}throw new Error("Gas, gasPrice, nonce is lower than 0");case 5:return i={nonce:r.nonce,gasPrice:r.gasPrice,gas:r.gas,to:"0x"+r.to.toLowerCase().replace("0x",""),value:r.value,data:"0x"+r.data.toLowerCase().replace("0x","")},a=Z([S(i.nonce),S(i.gasPrice),S(i.gas),i.to.toLowerCase(),S(i.value),i.data]),o=_(a),u=U(o,n),s=[q(64,L(h=u),h),q(0,32,h),q(32,64,h)],(c=tt(a).concat(s))[6]=M(D(s[0])),c[7]=M(D(s[1])),c[8]=M(D(s[2])),f=Z(c),p=tt(f),l={messageHash:o,v:D(p[6].toString()),r:D(p[7].toString()),s:D(p[8].toString()),rawTransaction:f},t.abrupt("return",l);case 18:case"end":return t.stop()}var h}),t)})));return function(r,e){return t.apply(this,arguments)}}(),e.generateTransaction=function(t){var r=t.receiver,e=void 0===r?"0x":r,n=t.to,i=t.amount,a=void 0===i?"0x0":i,o=t.value,u=t.nonce,s=void 0===u?"0x0":u,c=t.gasPrice,f=void 0===c?"0xff":c,p=t.gas,l=void 0===p?"0xff":p,h=t.gasLimit,d=t.data,v=void 0===d?"0x":d,g="0xff"===l?void 0===h?"0xff":h:l,m="0x0"===a?void 0===o?"0x0":o:a,x="0x"===e?void 0===n?"0x":n:e;return{nonce:j(s)?s:H(s),to:x,gasPrice:j(f)?f:H(f),gas:j(g)?g:H(g),value:j(m)?m:H(m),data:"0x"+v.toLowerCase().replace(/^0x/i,"")}},e.sendTransaction=function(){var t=h(g.mark((function t(r,e,n,i){var a,o,u,s,c,f;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),void 0===i&&(i=0),r.gas){t.next=7;break}return t.next=5,this.estimateGas(r,r.data);case 5:r.gas=10*t.sent;case 7:return t.next=9,this.generateTransaction(r);case 9:return a=t.sent,t.next=12,this.signTransaction(a,e);case 12:return o=t.sent,t.next=15,this._rpcClient.request({method:"tx_sendRawTransaction",params:[o.rawTransaction]});case 15:if(u=t.sent,n){t.next=18;break}return t.abrupt("return",u);case 18:s=i||6e4,c=Date.now()+s;case 20:if(!(Date.now()<c)){t.next=39;break}return t.prev=21,t.next=24,this.getTransactionReceipt(u);case 24:if(!(f=t.sent)){t.next=29;break}return t.abrupt("return",f);case 29:return t.next=31,rt(1e3);case 31:t.next=37;break;case 33:return t.prev=33,t.t0=t.catch(21),t.next=37,rt(1e3);case 37:t.next=20;break;case 39:throw new Error("Timeout: cannot get receipt after 60000ms");case 40:case"end":return t.stop()}}),t,this,[[21,33]])})));return function(r,e,n,i){return t.apply(this,arguments)}}(),e.estimateGas=function(){var t=h(g.mark((function t(r,e){var n;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={from:r.from||"0x",to:r.to||"0x",data:e,value:r.value||0,gasPrice:r.gasPrice||1e9},t.next=3,this._rpcClient.request({method:"kai_estimateGas",params:[n,"latest"]});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),t}(),nt=function(t,r){var e=t.map((function(t){return t.type})),n=Buffer.from(r.replace("0x",""),"hex"),i=p.rawDecode(e,n).map((function(t,r){return e[r].endsWith("]")?t.map((function(t){return e[r].startsWith("byte")?t.toString("hex"):t.toString()})):e[r].startsWith("byte")?t.toString("hex"):t.toString()}));return ut(t,i)},it=function(t){var r=typeof t;if("string"===r)return O(t)?new u(N(t),16):new u(t,10);if("number"===r)return new u(t);if(t.toArray)return t;throw new Error("Argument is not a number")},at=function(t){var r=/^\D+(\d+)x(\d+)$/.exec(t);if(!r)throw new Error("Invalid [type]");return[parseInt(r[1],10),parseInt(r[2],10)]},ot=function t(r,e){var n,i,a,o;if("address"===r)return t("uint160",it(e));if("bool"===r)return t("uint8",e?1:0);if("string"===r)return t("bytes",Buffer.from(e,"utf8"));if(dt(r)){if(void 0===e.length)throw new Error("Not an array?");if(!(n=function(t){var r=t.match(/(.*)\[(.*?)\]$/);return r?""===r[2]?"dynamic":parseInt(r[2],10):null}(r)))throw new Error("Invalid [type]");if("dynamic"!==n&&0!==n&&e.length>n)throw new Error("Elements exceed array size: "+n);var s="";for(a in r=r.slice(0,r.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),"dynamic"===n&&(s=t("uint256",e.length)),e)s+=t(r,e[a]).replace("0x","");return s}if("bytes"===r){var c=L(e),f=32*(1+((c-1)/32|0)),p=gt("uint256",B(c)).data,l=function t(r,e){return e.length===2*r+2?e:t(r,e+"0")}(f,e);return P(p,l)}if(r.startsWith("bytes")){if((n=ht(r))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return"0x"+(o=e,function(t,r,e){var n=Buffer.allocUnsafe(32).fill(0);return(t=function(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if("string"==typeof t)t="string"==typeof(r=t)&&r.match(/^0x[0-9A-Fa-f]*$/)?Buffer.from(F(N(t)),"hex"):Buffer.from(t);else if("number"==typeof t)e=function(t){return"0x"+t.toString(16)}(t),t=Buffer.from(F(e.slice(2)),"hex");else if(null==t)t=Buffer.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(Buffer);else{if(!t.toArray)throw new Error("invalid type");t=Buffer.from(t.toArray())}var r,e;return t}(t)).length<32?(t.copy(n),n):t.slice(0,32)}(o)).toString("hex")}if(r.startsWith("uint")){if((n=ht(r))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=it(e)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());if(i<0)throw new Error("Supplied uint is negative");return"0x"+i.toArrayLike(Buffer,"be",32).toString("hex")}if(r.startsWith("int")){if((n=ht(r))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=it(e)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return"0x"+i.toTwos(256).toArrayLike(Buffer,"be",32).toString("hex")}if(r.startsWith("ufixed")){if(n=at(r),(i=it(e))<0)throw new Error("Supplied ufixed is negative");return t("uint256",i.mul(new u(2).pow(new u(n[1]))))}if(r.startsWith("fixed"))return n=at(r),t("int256",it(e).mul(new u(2).pow(new u(n[1]))));throw new Error("Unsupported or invalid type: "+r)},ut=function(t,r){return 1===t.length?st(t[0].type,r[0]):t.reduce((function(t,e,n){return t[e.name||n.toString()]=st(e.type,r[n]),t}),{})},st=function t(r,e){if(!e||"0x"===e)return e;if(dt(r)){var n=r.replace(/\[\]/g,"");return(Array.isArray(e)?e:e.split(",")).map((function(r){return t(n,r)}))}return"address"===r?"0x"+e.replace("0x",""):r.startsWith("uint")||r.startsWith("int")?parseInt(e):"bool"===r?"true"===e:r.startsWith("byte")?"0x"+e.replace("0x",""):e},ct=function(t,r){if(0===t.length)throw new Error("ABI is require for paser");var e=ft(t).find((function(t){return t.signature===r.topics[0]}));if(e){for(var n=e.inputs.filter((function(t){return!1===t.indexed})),i=e.inputs.filter((function(t){return!0===t.indexed})),a=[].concat(n,i).map((function(t){return t.type})),o=Buffer.from(r.data.replace("0x",""),"hex"),u=1;u<r.topics.length;u++){var s=Buffer.from(r.topics[u].replace("0x",""),"hex");o=Buffer.concat([o,s])}var c=p.rawDecode(a,o).map((function(t,r){return a[r].startsWith("byte")?t.toString("hex"):t.toString()})),f=ut(e.inputs,c);return d({event:d({name:e.name},f)},r)}return r},ft=function(t){return t.filter((function(t){return"event"===t.type})).map((function(t){return d({signature:pt(t)},t)}))},pt=function(t){var r=t.name+"("+t.inputs.map((function(t){return t.type})).join(",")+")";return C(r)},lt=function(t){return t.map((function(t){return j(t)?t:H(t)}))},ht=function(t){var r=/^\D+(\d+)$/.exec(t);if(!r)throw new Error("Invalid type");return parseInt(r[1],10)},dt=function(t){return t.lastIndexOf("]")===t.length-1},vt=function(t){return"bytes"===t||"string"===t||!!dt(t)},gt=function(t,r){return"uint256"===t||"bytes32"===t||"address"===t?{data:I(32,r),dynamic:!1}:{data:ot(t,r),dynamic:vt(t)}},mt=function(t,r,e){return void 0===r&&(r="function"),void 0===e&&(e=""),t.find("constructor"!==r?function(t){return t.type===r&&t.name===e}:function(t){return t.type===r})},xt=function(){function t(t){var e=t.client,n=t.bytecodes,i=t.abi,a=t.provider;if(e)this._rpcClient=e;else{if(!a)throw new Error("Either [client] or [provider] must be provided");var o=new r.HTTPTransport(a);this._rpcClient=new r.Client(new r.RequestManager([o]))}if(this.txModule=new et({client:this._rpcClient}),this.bytecodes=n||"",i&&!Array.isArray(i))throw new Error("Invalid [abi]");this.abi=i||[]}var e=t.prototype;return e.updateAbi=function(t){this.abi=t},e.updateByteCode=function(t){this.bytecodes=t},e.info=function(){return{byteCode:this.bytecodes,abi:this.abi}},e.deploy=function(t){var r,e,n=this,i=t.params,a=this.bytecodes,o=mt(this.abi,"constructor"),u=function(t,r,e){var n="0x",i="0x";if(e&&r)for(var a=e.map((function(t,e){return gt(r.inputs[e].type,t)})),o=0;o<a.length;++o)if(a[o].dynamic){var u=32*a.length+L(i);n=P(n,I(32,B(u))),i=P(i,a[o].data)}else n=P(n,a[o].data);return T([t,n,i])}("0x"+a.replace("0x",""),o,i.map((function(t){return Array.isArray(t)?lt(t):j(t)?t:H(t)})));return{txData:function(){return u},getDefaultTxPayload:function(){return{amount:0,data:u,gasPrice:1e9,gas:9e5}},estimateGas:(e=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.next=3,n.txModule.estimateGas(r,u);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)}),send:(r=h(g.mark((function t(r,e){var i,a,o,s;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),i=R(r),a=new X({client:n._rpcClient}),t.next=5,a.getNonce(i.address);case 5:return o=t.sent,s=new et({client:n._rpcClient}),t.next=9,s.sendTransaction({receiver:"0x",amount:e.amount||0,nonce:e.nonce||o,gasPrice:e.gasPrice||1e9,gas:e.gas||9e5,data:u},r,!0);case 9:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})}},e.invokeContract=function(t,r){var e,n,i,a,o=this,u=mt(this.abi,"function",t),s=r.map((function(t){return Array.isArray(t)?lt(t):j(t)?t:H(t)})),c=function(t,r){for(var e=t.name+"("+t.inputs.map((function(t){return t.type})).join(",")+")",n=C(e).slice(0,10),i=r.map((function(r,e){return gt(t.inputs[e].type,r)})),a="0x",o="0x",u=0;u<i.length;++u)if(i[u].dynamic){var s=32*i.length+L(o);a=P(a,I(32,B(s))),o=P(o,i[u].data)}else a=P(a,i[u].data);return T([n,a,o])}(u,s);return{txData:function(){return c},getDefaultTxPayload:function(){return{amount:0,gasPrice:1e9,data:c}},estimateGas:(a=h(g.mark((function t(r){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.txModule.estimateGas(r,c);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)}),getTxObject:(i=h(g.mark((function t(){var r;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={amount:0,gasPrice:1e9,data:c},t.next=3,o.txModule.estimateGas(r,c);case 3:return r.gas=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)}),send:(n=h(g.mark((function t(r,e,n){var i,a,u,s,f,p,l;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),i=R(r),a=new X({client:o._rpcClient}),t.next=5,a.getNonce(i.address);case 5:return u=t.sent,s=new et({client:o._rpcClient}),t.next=9,s.sendTransaction({receiver:e,amount:n.amount||0,nonce:n.nonce||u,gasPrice:n.gasPrice||1e9,gas:n.gas||9e5,data:c},r,!0);case 9:return p=(f=t.sent).logs?f.logs.map((function(t){return ct(o.abi,t)})):[],l=d({events:p},f),t.abrupt("return",l);case 13:case"end":return t.stop()}}),t)}))),function(t,r,e){return n.apply(this,arguments)}),call:(e=h(g.mark((function t(r,e,n){var i;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),void 0===n&&(n="latest"),i={from:e.from||"0x",to:r,data:c,value:e.amount||0,gasPrice:e.gasPrice||1e9,gas:e.gas||9e5},t.next=5,o._rpcClient.request({method:"kai_kardiaCall",params:[i,n]});case 5:return t.abrupt("return",nt(u.outputs,t.sent));case 7:case"end":return t.stop()}}),t)}))),function(t,r,n){return e.apply(this,arguments)})}},e.parseEvent=function(){var t=h(g.mark((function t(r){var e,n,i=this;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new et({client:this._rpcClient}),t.next=3,e.getTransactionReceipt(r);case 3:return t.abrupt("return",(n=t.sent).logs?n.logs.map((function(t){return ct(i.abi,t)})):[]);case 5:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),t}();exports.KAIChain=Q,exports.KardiaAccount=X,exports.KardiaTransaction=et,exports.default=function(t){var e=new r.HTTPTransport(t.endpoint);this._rpcClient=new r.Client(new r.RequestManager([e])),this.account=new X({client:this._rpcClient}),this.transaction=new et({client:this._rpcClient}),this.kaiChain=new Q({client:this._rpcClient}),this.contract=new xt({client:this._rpcClient})};
//# sourceMappingURL=kardia-js-sdk.cjs.production.min.js.map
